<p id="notice"><%= notice %></p>


<h1>Posts</h1>



<strong>Reply to thread<strong>
 <%= form_with model: @post do |form|%>
  <div class="field">
    <%= form.label :title %>
    <%= form.text_field :title %>
  </div>
  <div class="field">
    <%= form.label :body %>
    <%= form.text_field :body %>
  </div>
<div class = "actions">
   <%= form.submit %>
</div>
<%end%>



<div class="container">
  <table class="table table-striped">
  <thead>
        <tr>
          <th>Title</th>
          <th>Content</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
      <% @posts.each do |post| %>
        <tr>
          <td><%= post.title %></td>
          <td><%= post.body %></td>
          <td> --- </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>





    <% @posts.each do |post| %>

        <h2><%= post.title %></h2>
        <td><%= post.body %></td>
        <p>Posted by <%=User.where(studentId: post.posterId).first ? User.where(studentId: post.posterId).first.firstName : "None" %></p>
        <td><%= time_ago_in_words(post.postDate) %> ago</td>
        <td><%= link_to 'Show', post %></td>
        <%if current_user.isAdmin%>
          <td><%= link_to 'Edit', edit_post_path(post) %></td>
          <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <%end%>
      <br>
    <% end %>




<%= link_to 'Profile', user_path(current_user.studentId) %>
