<nav class="navbar navbar-dark bg-primary"> 
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <h1 style="color: white;">Editing Group</h1> 
    <%= link_to "Sign Out", destroy_user_session_path, class:"text-light btn btn-outline-light"%>
  </div>
</nav>
<div class="collapse" id="navbarToggleExternalContent">
  <div class="bg-primary p-4">
    <span class="text-white h4 center">
        <ul class="navbar-nav text-center">
            <%= link_to 'Profile', user_path(current_user.studentId), class:"text-light btn btn-primary btn-lg btn-block" %>
            <% if current_user.groupId.present? %>
                <%= link_to 'Group', group_path(current_user.groupId), class:"text-light btn btn-primary btn-lg btn-block" %>
            <% end %>
            <%= link_to 'Forum', posts_path, class:"text-light btn btn-primary btn-lg btn-block" %>
            <%= link_to 'Users', users_path, class:"text-light btn btn-primary btn-lg btn-block" %>
            <% if current_user.isAdmin || current_user.isOfficer%>
              <%= link_to 'All Posts', posts_path, class:"text-light btn btn-primary btn-lg btn-block" %>
              <%= link_to 'All groups', groups_path, class:"text-light btn btn-primary btn-lg btn-block" %>
            <% end %>
        </ul>
    </span>
  </div>
</div>


<%= form_with model: @group do |form|%>
    <% if @group.errors.any? %>
        <div id="error_explanation">
        <h2><%= pluralize(group.errors.count, "error") %> prohibited this group from being saved:</h2>

        <ul>
            <% group.errors.each do |error| %>
            <li><%= error.full_message %></li>
            <% end %>
        </ul>
        </div>
    <% end %>


    </br><div class="col d-flex justify-content-center">
      <div class="card text-center" style="width: 18rem;">
      <h5 class="card-title">Group Information</h5>
        <div class="field">
          <%= form.label :groupId %>
          <%= form.number_field :groupId %>
        </div>
        <div class="field">
          <%= form.label :leaderInt %>
          <%= form.select :leaderInt, User.where(isOfficer: true).order(:fullName).map{|user| [user.fullName, user.studentId]}, include_blank: true, id: "group_leaderInt", name: "group"%>
        </div>
        <div class = "field">
            <%= form.label :user_id%>
            <%= form.select :user_id, User.where.not(groupId: @group.groupId).order(:fullName).map{|user| [user.fullName, user.studentId]}, include_blank: true, id: "id_of_the_user_id_select_box", name: "user"%>
            
        </div>
        <div class = "field">
            <%= form.label :remove_users%>
            <%= form.select :remove_users, User.where(groupId: @group.groupId).order(:fullName).map{|user| [user.fullName, user.studentId]}, include_blank: true, id: "id_of_the_user_id_select_box", name: "user"%>
        </div>
        <div class = "actions">
          <%= link_to 'Show', group_path(@group.groupId), class: "btn btn-outline-primary" %>
          <%= form.submit class: "btn btn-outline-primary"%>
        </div>
      </div>
    </div>

<%end%>
